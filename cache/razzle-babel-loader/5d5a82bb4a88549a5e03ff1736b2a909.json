{"ast":null,"code":"var _jsxFileName = \"/sandbox/src/Menu.js\";\nvar __jsx = React.createElement;\nimport slugify from \"@sindresorhus/slugify\";\nimport cn from \"classnames\";\nimport React, { useContext, useMemo } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport topLevelPages from \"./topLevelPages.js\";\nimport MenuCbCallbackContext from \"./menuContext.js\";\n\nfunction Menu() {\n  var _topLevelPages$curren, _topLevelPages$curren2;\n\n  const {\n    0: menuCbToggle,\n    1: menuCbClose\n  } = useContext(MenuCbCallbackContext);\n  const router = useLocation();\n  const {\n    pathname\n  } = router;\n  const currentIndex = useMemo(() => topLevelPages.findIndex(dir => dir.path === pathname.slice(1)), [topLevelPages, pathname]);\n  const title = ((_topLevelPages$curren = topLevelPages[currentIndex]) === null || _topLevelPages$curren === void 0 ? void 0 : (_topLevelPages$curren2 = _topLevelPages$curren.meta) === null || _topLevelPages$curren2 === void 0 ? void 0 : _topLevelPages$curren2.title) || \"Untitled\";\n  const activeSection = slugify(title);\n  return __jsx(\"nav\", {\n    className: \"[ nav ] [ site-head__nav ] [ font-sans ]\",\n    \"aria-label\": \"Primary navigaton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, __jsx(\"ul\", {\n    className: \"nav__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, topLevelPages.filter(entry => entry.component).map(entry => {\n    var _entry$meta, _entry$meta2, _entry$meta3, _entry$meta4;\n\n    const slug = slugify(entry.path !== \"\" ? ((_entry$meta = entry.meta) === null || _entry$meta === void 0 ? void 0 : _entry$meta.shortTitle) || ((_entry$meta2 = entry.meta) === null || _entry$meta2 === void 0 ? void 0 : _entry$meta2.title) || \"Untitled\" || \"\" : \"\");\n    return __jsx(\"li\", {\n      key: `a-${slug}`,\n      className: cn({\n        active: slug === activeSection\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    }, __jsx(Link, {\n      to: \"/\" + slug,\n      \"aria-current\": slug === activeSection ? \"page\" : null,\n      onClick: menuCbClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, ((_entry$meta3 = entry.meta) === null || _entry$meta3 === void 0 ? void 0 : _entry$meta3.shortTitle) || ((_entry$meta4 = entry.meta) === null || _entry$meta4 === void 0 ? void 0 : _entry$meta4.title) || \"Untitled\"));\n  })));\n}\n\nexport default Menu;","map":{"version":3,"sources":["/sandbox/src/Menu.js"],"names":["slugify","cn","React","useContext","useMemo","Link","useLocation","topLevelPages","MenuCbCallbackContext","Menu","menuCbToggle","menuCbClose","router","pathname","currentIndex","findIndex","dir","path","slice","title","meta","activeSection","filter","entry","component","map","slug","shortTitle","active"],"mappings":";;AAAA,OAAOA,OAAP,MAAoB,uBAApB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,OAA5B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,kBAAlC;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AACA,OAAOC,qBAAP,MAAkC,kBAAlC;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AACd,QAAM;AAAA,OAACC,YAAD;AAAA,OAAeC;AAAf,MAA8BR,UAAU,CAACK,qBAAD,CAA9C;AACA,QAAMI,MAAM,GAAGN,WAAW,EAA1B;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAeD,MAArB;AAEA,QAAME,YAAY,GAAGV,OAAO,CAC1B,MAAMG,aAAa,CAACQ,SAAd,CAAyBC,GAAD,IAASA,GAAG,CAACC,IAAJ,KAAaJ,QAAQ,CAACK,KAAT,CAAe,CAAf,CAA9C,CADoB,EAE1B,CAACX,aAAD,EAAgBM,QAAhB,CAF0B,CAA5B;AAIA,QAAMM,KAAK,GAAG,0BAAAZ,aAAa,CAACO,YAAD,CAAb,0GAA6BM,IAA7B,kFAAmCD,KAAnC,KAA4C,UAA1D;AACA,QAAME,aAAa,GAAGrB,OAAO,CAACmB,KAAD,CAA7B;AACA,SACE;AACE,IAAA,SAAS,EAAC,0CADZ;AAEE,kBAAW,mBAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,aAAa,CACXe,MADF,CACUC,KAAD,IAAWA,KAAK,CAACC,SAD1B,EAEEC,GAFF,CAEOF,KAAD,IAAW;AAAA;;AACd,UAAMG,IAAI,GAAG1B,OAAO,CAClBuB,KAAK,CAACN,IAAN,KAAe,EAAf,GACI,gBAAAM,KAAK,CAACH,IAAN,4DAAYO,UAAZ,sBACEJ,KAAK,CAACH,IADR,iDACE,aAAYD,KADd,KAEE,UAFF,IAGE,EAJN,GAKI,EANc,CAApB;AAQA,WACE;AACE,MAAA,GAAG,EAAG,KAAIO,IAAK,EADjB;AAEE,MAAA,SAAS,EAAEzB,EAAE,CAAC;AAAE2B,QAAAA,MAAM,EAAEF,IAAI,KAAKL;AAAnB,OAAD,CAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,MAAC,IAAD;AACE,MAAA,EAAE,EAAE,MAAMK,IADZ;AAEE,sBAAcA,IAAI,KAAKL,aAAT,GAAyB,MAAzB,GAAkC,IAFlD;AAGE,MAAA,OAAO,EAAEV,WAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,iBAAAY,KAAK,CAACH,IAAN,8DAAYO,UAAZ,sBAA0BJ,KAAK,CAACH,IAAhC,iDAA0B,aAAYD,KAAtC,KAA+C,UALlD,CAJF,CADF;AAcD,GAzBF,CADH,CAJF,CADF;AAmCD;;AAED,eAAeV,IAAf","sourcesContent":["import slugify from \"@sindresorhus/slugify\";\nimport cn from \"classnames\";\nimport React, { useContext, useMemo } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport topLevelPages from \"./topLevelPages.js\";\nimport MenuCbCallbackContext from \"./menuContext.js\";\n\nfunction Menu() {\n  const [menuCbToggle, menuCbClose] = useContext(MenuCbCallbackContext);\n  const router = useLocation();\n  const { pathname } = router;\n\n  const currentIndex = useMemo(\n    () => topLevelPages.findIndex((dir) => dir.path === pathname.slice(1)),\n    [topLevelPages, pathname]\n  );\n  const title = topLevelPages[currentIndex]?.meta?.title || \"Untitled\";\n  const activeSection = slugify(title);\n  return (\n    <nav\n      className=\"[ nav ] [ site-head__nav ] [ font-sans ]\"\n      aria-label=\"Primary navigaton\"\n    >\n      <ul className=\"nav__list\">\n        {topLevelPages\n          .filter((entry) => entry.component)\n          .map((entry) => {\n            const slug = slugify(\n              entry.path !== \"\"\n                ? entry.meta?.shortTitle ||\n                    entry.meta?.title ||\n                    \"Untitled\" ||\n                    \"\"\n                : \"\"\n            );\n            return (\n              <li\n                key={`a-${slug}`}\n                className={cn({ active: slug === activeSection })}\n              >\n                <Link\n                  to={\"/\" + slug}\n                  aria-current={slug === activeSection ? \"page\" : null}\n                  onClick={menuCbClose}\n                >\n                  {entry.meta?.shortTitle || entry.meta?.title || \"Untitled\"}\n                </Link>\n              </li>\n            );\n          })}\n      </ul>\n    </nav>\n  );\n}\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}