{"ast":null,"code":"var _jsxFileName = \"/sandbox/src/layout.js\",\n    _this2 = this;\n\nvar __jsx = React.createElement;\nimport slugify from \"@sindresorhus/slugify\";\nimport cn from \"classnames\";\nimport \"focus-visible\";\nimport React, { useContext, useMemo } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useLocation } from \"react-router-dom\";\nimport topLevelPages from \"./topLevelPages.js\";\nimport MDXTheme from \"./mdx-theme\";\nimport MenuCbCallbackContext from \"./menuContext.js\";\nimport { ActiveSectionContext, PageSectionProvider } from \"./PageSections\";\n\nfunction Menuu(_ref) {\n  var _this = this;\n\n  var anchors = _ref.anchors;\n\n  var _useContext = useContext(MenuCbCallbackContext),\n      menuCbToggle = _useContext[0],\n      menuCbClose = _useContext[1];\n\n  var activeSection = useContext(ActiveSectionContext);\n  return __jsx(\"nav\", {\n    className: \"[ nav ] [ site-head__nav ] [ font-sans ]\",\n    \"aria-label\": \"Primary navigaton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }\n  }, __jsx(\"ul\", {\n    className: \"nav__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, anchors.map(function (anchor) {\n    var slug = slugify((anchor.shortTitle || anchor.title || [\"Untitled\"]).join(\" \") || \"\");\n    return __jsx(\"li\", {\n      key: \"a-\".concat(slug),\n      className: cn({\n        active: slug === activeSection\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }, __jsx(\"a\", {\n      href: \"#\" + slug,\n      \"aria-current\": slug === activeSection ? \"page\" : null,\n      onClick: menuCbClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 15\n      }\n    }, (anchor.shortTitle || anchor.title || [\"Untitled\"]).map(function (part) {\n      return __jsx(\"span\", {\n        key: \"a-\".concat(part),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }\n      }, part);\n    })));\n  })));\n}\n\nvar Layout = function Layout(_ref2) {\n  var _topLevelPages$curren, _topLevelPages$curren2;\n\n  var anchors = _ref2.anchors,\n      children = _ref2.children;\n  var router = useLocation();\n  var pathname = router.pathname;\n  var currentIndex = useMemo(function () {\n    return topLevelPages.findIndex(function (dir) {\n      return dir.path === pathname.slice(1);\n    });\n  }, [topLevelPages, pathname]);\n  var title = ((_topLevelPages$curren = topLevelPages[currentIndex]) === null || _topLevelPages$curren === void 0 ? void 0 : (_topLevelPages$curren2 = _topLevelPages$curren.meta) === null || _topLevelPages$curren2 === void 0 ? void 0 : _topLevelPages$curren2.title) || \"Untitled\";\n  return __jsx(React.Fragment, null, __jsx(PageSectionProvider, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, __jsx(Helmet, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, title)), __jsx(\"main\", {\n    tabIndex: \"-1\",\n    id: \"main-content\",\n    className: \"flow flow-space-300\",\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, __jsx(MDXTheme, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, children))));\n};\n\nexport default Layout;","map":{"version":3,"sources":["/sandbox/src/layout.js"],"names":["slugify","cn","React","useContext","useMemo","Helmet","useLocation","topLevelPages","MDXTheme","MenuCbCallbackContext","ActiveSectionContext","PageSectionProvider","Menuu","anchors","menuCbToggle","menuCbClose","activeSection","map","anchor","slug","shortTitle","title","join","active","part","Layout","children","router","pathname","currentIndex","findIndex","dir","path","slice","meta"],"mappings":"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","sourcesContent":["import slugify from \"@sindresorhus/slugify\";\nimport cn from \"classnames\";\nimport \"focus-visible\";\nimport React, { useContext, useMemo } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { useLocation } from \"react-router-dom\";\nimport topLevelPages from \"./topLevelPages.js\";\nimport MDXTheme from \"./mdx-theme\";\nimport MenuCbCallbackContext from \"./menuContext.js\";\nimport { ActiveSectionContext, PageSectionProvider } from \"./PageSections\";\n\nfunction Menuu({ anchors }) {\n  const [menuCbToggle, menuCbClose] = useContext(MenuCbCallbackContext);\n  const activeSection = useContext(ActiveSectionContext);\n  return (\n    <nav\n      className=\"[ nav ] [ site-head__nav ] [ font-sans ]\"\n      aria-label=\"Primary navigaton\"\n    >\n      <ul className=\"nav__list\">\n        {anchors.map((anchor) => {\n          const slug = slugify(\n            (anchor.shortTitle || anchor.title || [\"Untitled\"]).join(\" \") || \"\"\n          );\n          return (\n            <li\n              key={`a-${slug}`}\n              className={cn({ active: slug === activeSection })}\n            >\n              <a\n                href={\"#\" + slug}\n                aria-current={slug === activeSection ? \"page\" : null}\n                onClick={menuCbClose}\n              >\n                {(anchor.shortTitle || anchor.title || [\"Untitled\"]).map(\n                  (part) => (\n                    <span key={`a-${part}`}>{part}</span>\n                  )\n                )}\n              </a>\n            </li>\n          );\n        })}\n      </ul>\n    </nav>\n  );\n}\nconst Layout = ({ anchors, children }) => {\n  const router = useLocation();\n  const { pathname } = router;\n\n  const currentIndex = useMemo(\n    () => topLevelPages.findIndex((dir) => dir.path === pathname.slice(1)),\n    [topLevelPages, pathname]\n  );\n\n  const title = topLevelPages[currentIndex]?.meta?.title || \"Untitled\";\n\n  return (\n    <>\n      <PageSectionProvider>\n        <Helmet>\n          <title>{title}</title>\n        </Helmet>\n\n        <main tabIndex=\"-1\" id=\"main-content\" className=\"flow flow-space-300\">\n          <MDXTheme>{children}</MDXTheme>\n        </main>\n      </PageSectionProvider>\n    </>\n  );\n};\n\nexport default Layout;\n"]},"metadata":{},"sourceType":"module"}