{"ast":null,"code":"var _jsxFileName = \"/sandbox/src/PageSections.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\nimport { useInView } from \"react-intersection-observer\";\nimport slugify from \"@sindresorhus/slugify\";\nexport const ActiveSectionCallbackContext = /*#__PURE__*/createContext();\nexport const ActiveSectionContext = /*#__PURE__*/createContext();\nexport const PageSectionProvider = ({\n  children\n}) => {\n  const {\n    0: activeSection,\n    1: setActiveSection\n  } = useState(false);\n  return __jsx(ActiveSectionCallbackContext.Provider, {\n    value: setActiveSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, __jsx(ActiveSectionContext.Provider, {\n    value: activeSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, children));\n};\nexport const PageSection = _ref => {\n  let {\n    title,\n    shortTitle\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"title\", \"shortTitle\"]);\n\n  const id = slugify((shortTitle || title || \"Undefined Title\").replace(/\\|/, \" \"));\n  const setActiveSection = useContext(ActiveSectionCallbackContext);\n  const [ref, inView, entry] = useInView({\n    threshold: 0.2,\n    rootMargin: \"-250px 0px 0px 0px\"\n  });\n  useEffect(() => {\n    if (inView) {\n      setActiveSection(id);\n      console.log(id);\n    }\n  }, [inView]);\n  return __jsx(\"div\", _extends({\n    id: id,\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 10\n    }\n  }));\n};","map":{"version":3,"sources":["/sandbox/src/PageSections.js"],"names":["React","createContext","useContext","useState","useEffect","useInView","slugify","ActiveSectionCallbackContext","ActiveSectionContext","PageSectionProvider","children","activeSection","setActiveSection","PageSection","title","shortTitle","props","id","replace","ref","inView","entry","threshold","rootMargin","console","log"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IACEC,aADF,EAIEC,UAJF,EAKEC,QALF,EAMEC,SANF,QAOO,OAPP;AASA,SAASC,SAAT,QAA0B,6BAA1B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,OAAO,MAAMC,4BAA4B,gBAAGN,aAAa,EAAlD;AAEP,OAAO,MAAMO,oBAAoB,gBAAGP,aAAa,EAA1C;AAEP,OAAO,MAAMQ,mBAAmB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACnD,QAAM;AAAA,OAACC,aAAD;AAAA,OAAgBC;AAAhB,MAAoCT,QAAQ,CAAC,KAAD,CAAlD;AACA,SACE,MAAC,4BAAD,CAA8B,QAA9B;AAAuC,IAAA,KAAK,EAAES,gBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,oBAAD,CAAsB,QAAtB;AAA+B,IAAA,KAAK,EAAED,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,QADH,CADF,CADF;AAOD,CATM;AAWP,OAAO,MAAMG,WAAW,GAAG,QAAqC;AAAA,MAApC;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAoC;AAAA,MAAZC,KAAY;;AAC9D,QAAMC,EAAE,GAAGX,OAAO,CAChB,CAACS,UAAU,IAAID,KAAd,IAAuB,iBAAxB,EAA2CI,OAA3C,CAAmD,IAAnD,EAAyD,GAAzD,CADgB,CAAlB;AAGA,QAAMN,gBAAgB,GAAGV,UAAU,CAACK,4BAAD,CAAnC;AACA,QAAM,CAACY,GAAD,EAAMC,MAAN,EAAcC,KAAd,IAAuBhB,SAAS,CAAC;AACrCiB,IAAAA,SAAS,EAAE,GAD0B;AAErCC,IAAAA,UAAU,EAAE;AAFyB,GAAD,CAAtC;AAKAnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIgB,MAAJ,EAAY;AACVR,MAAAA,gBAAgB,CAACK,EAAD,CAAhB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYR,EAAZ;AACD;AACF,GALQ,EAKN,CAACG,MAAD,CALM,CAAT;AAOA,SAAO;AAAK,IAAA,EAAE,EAAEH,EAAT;AAAa,IAAA,GAAG,EAAEE;AAAlB,KAA2BH,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD,CAlBM","sourcesContent":["import React, {\n  createContext,\n  forwardRef,\n  useCallback,\n  useContext,\n  useState,\n  useEffect\n} from \"react\";\n\nimport { useInView } from \"react-intersection-observer\";\nimport slugify from \"@sindresorhus/slugify\";\n\nexport const ActiveSectionCallbackContext = createContext();\n\nexport const ActiveSectionContext = createContext();\n\nexport const PageSectionProvider = ({ children }) => {\n  const [activeSection, setActiveSection] = useState(false);\n  return (\n    <ActiveSectionCallbackContext.Provider value={setActiveSection}>\n      <ActiveSectionContext.Provider value={activeSection}>\n        {children}\n      </ActiveSectionContext.Provider>\n    </ActiveSectionCallbackContext.Provider>\n  );\n};\n\nexport const PageSection = ({ title, shortTitle, ...props }) => {\n  const id = slugify(\n    (shortTitle || title || \"Undefined Title\").replace(/\\|/, \" \")\n  );\n  const setActiveSection = useContext(ActiveSectionCallbackContext);\n  const [ref, inView, entry] = useInView({\n    threshold: 0.2,\n    rootMargin: \"-250px 0px 0px 0px\"\n  });\n\n  useEffect(() => {\n    if (inView) {\n      setActiveSection(id);\n      console.log(id);\n    }\n  }, [inView]);\n\n  return <div id={id} ref={ref} {...props} />;\n};\n"]},"metadata":{},"sourceType":"module"}